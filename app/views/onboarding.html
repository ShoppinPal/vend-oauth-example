<div class="row">
    <div class="col-md-4 col-md-offset-2">
        <div class="form-group"></div>
        <div class="form-group">
            <label>
                Make sure that your vend developer app is registered with Redirect URI: {{baseUrl}}/token/vend
                <ol>
                    <li ng-if="!currentState.config.vend.client_id">client_id hasn't been configured in {{currentState.config.filename}}, before running this sample.</li>
                    <li ng-if="!currentState.config.vend.client_secret">client_secret hasn't been configured in {{currentState.config.filename}}, before running this sample.</li>
                </ol>
            </label>
            <label ng-if="currentState.oauth.access_token">
                You already have an access_token for <a>{{currentState.oauth.domain_prefix}}.vendhq.com</a> which expires on {{currentState.oauth.expires}}
                <!-- todo: use some timer like component for angular to countdown to when the token expires -->
                <!-- todo: use moment.js to compare and tell if the token has already expired and requires a reissue-->
                <li>
                    Click the following link to kick-off a sample request for a new access token from Vend <u>based on a stored refresh token</u>:
                    <a ng-click="vend.refreshAccessToken()">
                        {{vend.tokenService}}
                    </a>
                </li>
                <li>
                    Click the following link to kick-off a sample request to fetch products from Vend <u>based on the stored access token</u>:
                    <a ng-click="vend.fetchProducts()">
                        Fetch Products from Vend
                    </a>
                </li>
            </label>
        </div>
        <div class="form-group required">
            <label for="vendurl">What is the domain prefix for your Vend Store?</label>
            <div class="input-group">
                <span class="input-group-addon">https://</span>
                <input type="text" class="form-control"
                       name="vendurl" id="vendurl"
                       placeholder="mystore"
                       ng-model="domainPrefix"
                       required/>
                <span class="input-group-addon">.vendhq.com</span>
            </div>
        </div>
        <div class="form-group"
             ng-if="domainPrefix && domainPrefix.length>0 && domainPrefix.trim().length>0">
            <label>
                <div class="form-group">
                    Make sure that your vend developer app is registered with Redirect URI: {{baseUrl}}/token/vend
                <br/><br/>

                    Click this link to kick-off a sample workflow that requests a new access token from Vend <u>based on an authorization code</u>:
                <a ng-href="{{vend.loginUrl()}}">
                    {{vend.authEndpoint}}
                </a>
                </div>
            </label>
        </div>
    </div>
</div>
